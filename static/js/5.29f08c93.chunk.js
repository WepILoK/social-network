(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{390:function(e,t,n){"use strict";n.r(t);var a=n(158),c=n(0),l=n.n(c),r=n(25),o=n(14),u=n(194),i=function(){var e=Object(o.d)((function(e){return e.chat.messages})),t=Object(c.useRef)(null),n=Object(c.useState)(!0),r=Object(a.a)(n,2),u=r[0],i=r[1];Object(c.useEffect)((function(){var e;u&&(null===(e=t.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[e]);return l.a.createElement("div",{style:{height:"480px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?(console.log(Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)),!u&&i(!0)):u&&i(!1)}},e.map((function(e,t){return l.a.createElement(s,{key:e.id,message:e})})),l.a.createElement("div",{ref:t}))},s=l.a.memo((function(e){var t=e.message;return l.a.createElement("div",null,l.a.createElement(r.c,{to:"/profile/"+t.userId},l.a.createElement("img",{src:t.photo,style:{width:"30px"},alt:"Avatar img"}),l.a.createElement("b",null,"  "+t.userName)),l.a.createElement("br",null),t.message,l.a.createElement("hr",null))})),m=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(o.c)(),s=Object(o.d)((function(e){return e.chat.status})),m=function(){n&&(i(Object(u.b)(n)),r(""))};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("textarea",{onKeyDown:function(e){13==e.keyCode&&0==e.shiftKey&&m()},onChange:function(e){r(e.currentTarget.value)},value:n})),l.a.createElement("div",null,l.a.createElement("button",{disabled:"ready"!==s,onClick:m},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))};t.default=function(){var e=Object(o.c)();return Object(c.useEffect)((function(){return e(Object(u.c)()),function(){e(Object(u.d)())}}),[]),l.a.createElement("div",null,l.a.createElement(i,null),l.a.createElement(m,null))}}}]);
//# sourceMappingURL=5.29f08c93.chunk.js.map